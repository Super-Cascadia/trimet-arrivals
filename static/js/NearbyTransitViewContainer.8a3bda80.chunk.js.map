{"version":3,"sources":["../node_modules/react-fontawesome/lib/index.js","../node_modules/reselect/es/index.js","store/selectors/bookmarkSelectors.ts","../node_modules/react-fontawesome/node_modules/prop-types/index.js","../node_modules/react-fontawesome/node_modules/prop-types/factoryWithThrowingShims.js","../node_modules/fbjs/lib/emptyFunction.js","../node_modules/fbjs/lib/invariant.js","../node_modules/react-fontawesome/node_modules/prop-types/lib/ReactPropTypesSecret.js","../node_modules/react-fontawesome/lib/screen-reader-styles.js","store/action/stopActions.ts","store/selectors/stopSelectors.ts","store/action/viewActions.ts","store/selectors/locationSelectors.ts","component/modal/Modal.tsx","component/modal/ModalContent.tsx","view/stops/components/NearbyTransitViewComponent.tsx","view/stops/containers/NearbyTransitViewContainer.tsx"],"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_react2","_interopRequireDefault","__webpack_require__","_propTypes2","_screenReaderStyles2","obj","__esModule","default","FontAwesome","_React$Component","instance","TypeError","_classCallCheck","this","_this","self","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","displayName","subClass","superClass","create","constructor","setPrototypeOf","_inherits","Component","_props","border","cssModule","className","fixedWidth","flip","inverse","name","pulse","rotate","size","spin","stack","_props$tag","tag","undefined","ariaLabel","keys","indexOf","_objectWithoutProperties","classNames","push","createElement","aria-hidden","join","style","propTypes","string","bool","object","oneOf","isRequired","module","defaultEqualityCheck","a","b","d","__webpack_exports__","createSelector","memoize","_len","memoizeOptions","Array","_key","_len2","funcs","_key2","recomputations","resultFunc","pop","dependencies","isArray","every","dep","dependencyTypes","map","Error","getDependencies","memoizedResultFunc","apply","concat","selector","params","resetRecomputations","createSelectorCreator","func","equalityCheck","lastArgs","lastResult","prev","next","areArgumentsShallowlyEqual","selectBookmarks","bookmarkedStopLocationsSelector","bookmarkedStopLocationSelector","bookmarkCountSelector","stopIsBookmarkedSelector","lodash__WEBPACK_IMPORTED_MODULE_0__","reselect__WEBPACK_IMPORTED_MODULE_1__","state","bookmarksReducer","bookmarks","stopLocation","isEmpty","locationId","emptyFunction","invariant","ReactPropTypesSecret","shim","propName","componentName","location","propFullName","secret","getShim","ReactPropTypes","array","number","symbol","any","arrayOf","element","instanceOf","node","objectOf","oneOfType","shape","exact","checkPropTypes","PropTypes","makeEmptyFunction","arg","thatReturns","thatReturnsFalse","thatReturnsTrue","thatReturnsNull","thatReturnsThis","thatReturnsArgument","validateFormat","format","condition","c","e","f","error","args","argIndex","replace","framesToPop","position","width","height","padding","margin","overflow","clip","loadArrivalDataRequest","loadStopDataRequest","_constants__WEBPACK_IMPORTED_MODULE_0__","payload","type","LOAD_ARRIVALS_DATA_REQUEST","radiusInFeet","LOAD_STOP_DATA_REQUEST","stopsLoadingSelector","allStopLocationsSelector","allNearbyRoutesSelector","timeOfLastLoadSelector","stopLocationSelector","reselect__WEBPACK_IMPORTED_MODULE_0__","stopsReducer","loading","stopLocations","nearbyRoutes","timeOfLastLoad","onInitialLoadRequest","INITIAL_LOAD_REQUEST","currentLocationSelector","currentLocationReducer","coordinates","Modal","classCallCheck","possibleConstructorReturn","modalRoot","el","document","getElementById","appendChild","removeChild","ReactDOM","createPortal","children","React","getSection","route","react_default","desc","dir","ModalContent","_ref","closeModal","onClick","title","lib_default","getHeader","NearbyStopsMap","lazy","Promise","all","then","bind","MainNavigation","NearbyLists","NearbyTransitViewComponent","modalOpen","routeInfo","openModal","assertThisInitialized","onInitialLoad","loadStopData","_this$props","numberOfBookmarks","getNearbyStops","setState","_this$props2","_this$props2$loading","id","LoadIndicator","nearbyStops","_this$props3","currentLocation","react","fallback","showModal","Modal_Modal","NearbyTransitViewContainer","connect","dispatch"],"mappings":"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","file":"static/js/NearbyTransitViewContainer.8a3bda80.chunk.js","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _screenReaderStyles = require('./screen-reader-styles');\n\nvar _screenReaderStyles2 = _interopRequireDefault(_screenReaderStyles);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n/**\n * A React component for the font-awesome icon library.\n *\n * @param {String} [ariaLabel] An extra accessibility label to put on the icon\n * @param {Boolean} [border=false] Whether or not to show a border radius\n * @param {String} [className] An extra set of CSS classes to add to the component\n * @param {Object} [cssModule] Option to pass FontAwesome CSS as a module\n * @param {Boolean} [fixedWidth=false] Make buttons fixed width\n * @param {String} [flip=false] Flip the icon's orientation.\n * @param {Boolean} [inverse=false]Inverse the icon's color\n * @param {String} name Name of the icon to use\n * @param {Boolean} [pulse=false] Rotate icon with 8 steps, rather than smoothly\n * @param {Number} [rotate] The degress to rotate the icon by\n * @param {String} [size] The icon scaling size\n * @param {Boolean} [spin=false] Spin the icon\n * @param {String} [stack] Stack an icon on top of another\n * @param {String} [tag=span] The HTML tag to use as a string, eg 'i' or 'em'\n * @module FontAwesome\n * @type {ReactClass}\n */\n\n\nvar FontAwesome = function (_React$Component) {\n  _inherits(FontAwesome, _React$Component);\n\n  function FontAwesome() {\n    _classCallCheck(this, FontAwesome);\n\n    var _this = _possibleConstructorReturn(this, (FontAwesome.__proto__ || Object.getPrototypeOf(FontAwesome)).call(this));\n\n    _this.displayName = 'FontAwesome';\n    return _this;\n  }\n\n  _createClass(FontAwesome, [{\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          border = _props.border,\n          cssModule = _props.cssModule,\n          className = _props.className,\n          fixedWidth = _props.fixedWidth,\n          flip = _props.flip,\n          inverse = _props.inverse,\n          name = _props.name,\n          pulse = _props.pulse,\n          rotate = _props.rotate,\n          size = _props.size,\n          spin = _props.spin,\n          stack = _props.stack,\n          _props$tag = _props.tag,\n          tag = _props$tag === undefined ? 'span' : _props$tag,\n          ariaLabel = _props.ariaLabel,\n          props = _objectWithoutProperties(_props, ['border', 'cssModule', 'className', 'fixedWidth', 'flip', 'inverse', 'name', 'pulse', 'rotate', 'size', 'spin', 'stack', 'tag', 'ariaLabel']);\n\n      var classNames = [];\n\n      if (cssModule) {\n        classNames.push(cssModule['fa']);\n        classNames.push(cssModule['fa-' + name]);\n        size && classNames.push(cssModule['fa-' + size]);\n        spin && classNames.push(cssModule['fa-spin']);\n        pulse && classNames.push(cssModule['fa-pulse']);\n        border && classNames.push(cssModule['fa-border']);\n        fixedWidth && classNames.push(cssModule['fa-fw']);\n        inverse && classNames.push(cssModule['fa-inverse']);\n        flip && classNames.push(cssModule['fa-flip-' + flip]);\n        rotate && classNames.push(cssModule['fa-rotate-' + rotate]);\n        stack && classNames.push(cssModule['fa-stack-' + stack]);\n      } else {\n        classNames.push('fa');\n        classNames.push('fa-' + name);\n        size && classNames.push('fa-' + size);\n        spin && classNames.push('fa-spin');\n        pulse && classNames.push('fa-pulse');\n        border && classNames.push('fa-border');\n        fixedWidth && classNames.push('fa-fw');\n        inverse && classNames.push('fa-inverse');\n        flip && classNames.push('fa-flip-' + flip);\n        rotate && classNames.push('fa-rotate-' + rotate);\n        stack && classNames.push('fa-stack-' + stack);\n      } // Add any custom class names at the end.\n\n\n      className && classNames.push(className);\n      return _react2.default.createElement(tag, _extends({}, props, {\n        'aria-hidden': true,\n        className: classNames.join(' ')\n      }), ariaLabel ? _react2.default.createElement('span', {\n        style: _screenReaderStyles2.default\n      }, ariaLabel) : null);\n    }\n  }]);\n\n  return FontAwesome;\n}(_react2.default.Component);\n\nFontAwesome.propTypes = {\n  ariaLabel: _propTypes2.default.string,\n  border: _propTypes2.default.bool,\n  className: _propTypes2.default.string,\n  cssModule: _propTypes2.default.object,\n  fixedWidth: _propTypes2.default.bool,\n  flip: _propTypes2.default.oneOf(['horizontal', 'vertical']),\n  inverse: _propTypes2.default.bool,\n  name: _propTypes2.default.string.isRequired,\n  pulse: _propTypes2.default.bool,\n  rotate: _propTypes2.default.oneOf([90, 180, 270]),\n  size: _propTypes2.default.oneOf(['lg', '2x', '3x', '4x', '5x']),\n  spin: _propTypes2.default.bool,\n  stack: _propTypes2.default.oneOf(['1x', '2x']),\n  tag: _propTypes2.default.string\n};\nexports.default = FontAwesome;\nmodule.exports = exports['default'];","function defaultEqualityCheck(a, b) {\n  return a === b;\n}\n\nfunction areArgumentsShallowlyEqual(equalityCheck, prev, next) {\n  if (prev === null || next === null || prev.length !== next.length) {\n    return false;\n  } // Do this in a for loop (and not a `forEach` or an `every`) so we can determine equality as fast as possible.\n\n\n  var length = prev.length;\n\n  for (var i = 0; i < length; i++) {\n    if (!equalityCheck(prev[i], next[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport function defaultMemoize(func) {\n  var equalityCheck = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultEqualityCheck;\n  var lastArgs = null;\n  var lastResult = null; // we reference arguments instead of spreading them for performance reasons\n\n  return function () {\n    if (!areArgumentsShallowlyEqual(equalityCheck, lastArgs, arguments)) {\n      // apply arguments instead of spreading for performance.\n      lastResult = func.apply(null, arguments);\n    }\n\n    lastArgs = arguments;\n    return lastResult;\n  };\n}\n\nfunction getDependencies(funcs) {\n  var dependencies = Array.isArray(funcs[0]) ? funcs[0] : funcs;\n\n  if (!dependencies.every(function (dep) {\n    return typeof dep === 'function';\n  })) {\n    var dependencyTypes = dependencies.map(function (dep) {\n      return typeof dep;\n    }).join(', ');\n    throw new Error('Selector creators expect all input-selectors to be functions, ' + ('instead received the following types: [' + dependencyTypes + ']'));\n  }\n\n  return dependencies;\n}\n\nexport function createSelectorCreator(memoize) {\n  for (var _len = arguments.length, memoizeOptions = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    memoizeOptions[_key - 1] = arguments[_key];\n  }\n\n  return function () {\n    for (var _len2 = arguments.length, funcs = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      funcs[_key2] = arguments[_key2];\n    }\n\n    var recomputations = 0;\n    var resultFunc = funcs.pop();\n    var dependencies = getDependencies(funcs);\n    var memoizedResultFunc = memoize.apply(undefined, [function () {\n      recomputations++; // apply arguments instead of spreading for performance.\n\n      return resultFunc.apply(null, arguments);\n    }].concat(memoizeOptions)); // If a selector is called with the exact same arguments we don't need to traverse our dependencies again.\n\n    var selector = memoize(function () {\n      var params = [];\n      var length = dependencies.length;\n\n      for (var i = 0; i < length; i++) {\n        // apply arguments instead of spreading and mutate a local list of params for performance.\n        params.push(dependencies[i].apply(null, arguments));\n      } // apply arguments instead of spreading for performance.\n\n\n      return memoizedResultFunc.apply(null, params);\n    });\n    selector.resultFunc = resultFunc;\n    selector.dependencies = dependencies;\n\n    selector.recomputations = function () {\n      return recomputations;\n    };\n\n    selector.resetRecomputations = function () {\n      return recomputations = 0;\n    };\n\n    return selector;\n  };\n}\nexport var createSelector = createSelectorCreator(defaultMemoize);\nexport function createStructuredSelector(selectors) {\n  var selectorCreator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : createSelector;\n\n  if (typeof selectors !== 'object') {\n    throw new Error('createStructuredSelector expects first argument to be an object ' + ('where each property is a selector, instead received a ' + typeof selectors));\n  }\n\n  var objectKeys = Object.keys(selectors);\n  return selectorCreator(objectKeys.map(function (key) {\n    return selectors[key];\n  }), function () {\n    for (var _len3 = arguments.length, values = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      values[_key3] = arguments[_key3];\n    }\n\n    return values.reduce(function (composition, value, index) {\n      composition[objectKeys[index]] = value;\n      return composition;\n    }, {});\n  });\n}","import { isEmpty, map } from \"lodash\";\nimport { createSelector } from \"reselect\";\nimport { StopLocation } from \"../../api/trimet/types\";\nimport { RootState } from \"../reducers\";\nimport { StopLocations } from \"../reducers/bookmarksReducer\";\n\nexport const selectBookmarks = (state: RootState) =>\n  state.bookmarksReducer.bookmarks;\nconst selectBookmarkedStop = (state: RootState, locationId: number) =>\n  state.bookmarksReducer.bookmarks[locationId];\n\nexport const bookmarkedStopLocationsSelector = createSelector(\n  selectBookmarks,\n  (bookmarks: StopLocations) => bookmarks\n);\n\nexport const bookmarkedStopLocationSelector = createSelector(\n  selectBookmarks,\n  (bookmarks: StopLocations) =>\n    map(bookmarks, (stopLocation: StopLocation) => stopLocation)\n);\n\nexport const bookmarkCountSelector = createSelector(\n  selectBookmarks,\n  (bookmarks: StopLocations) =>\n    !isEmpty(bookmarks) && Object.keys(bookmarks).length\n);\n\nexport const stopIsBookmarkedSelector = createSelector(\n  selectBookmarkedStop,\n  (stopLocation: StopLocation) => !isEmpty(stopLocation)\n);\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nif (process.env.NODE_ENV !== 'production') {\n  var REACT_ELEMENT_TYPE = typeof Symbol === 'function' && Symbol.for && Symbol.for('react.element') || 0xeac7;\n\n  var isValidElement = function isValidElement(object) {\n    return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n  }; // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n\n\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(isValidElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';\n\nvar emptyFunction = require('fbjs/lib/emptyFunction');\n\nvar invariant = require('fbjs/lib/invariant');\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nmodule.exports = function () {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n\n    invariant(false, 'Calling PropTypes validators directly is not supported by the `prop-types` package. ' + 'Use PropTypes.checkPropTypes() to call them. ' + 'Read more at http://fb.me/use-check-prop-types');\n  }\n\n  ;\n  shim.isRequired = shim;\n\n  function getShim() {\n    return shim;\n  }\n\n  ; // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim\n  };\n  ReactPropTypes.checkPropTypes = emptyFunction;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n  return ReactPropTypes;\n};","\"use strict\";\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\n\nfunction makeEmptyFunction(arg) {\n  return function () {\n    return arg;\n  };\n}\n/**\n * This function accepts and discards inputs; it has no side effects. This is\n * primarily useful idiomatically for overridable function endpoints which\n * always need to be callable, since JS lacks a null-call idiom ala Cocoa.\n */\n\n\nvar emptyFunction = function emptyFunction() {};\n\nemptyFunction.thatReturns = makeEmptyFunction;\nemptyFunction.thatReturnsFalse = makeEmptyFunction(false);\nemptyFunction.thatReturnsTrue = makeEmptyFunction(true);\nemptyFunction.thatReturnsNull = makeEmptyFunction(null);\n\nemptyFunction.thatReturnsThis = function () {\n  return this;\n};\n\nemptyFunction.thatReturnsArgument = function (arg) {\n  return arg;\n};\n\nmodule.exports = emptyFunction;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n'use strict';\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar validateFormat = function validateFormat(format) {};\n\nif (process.env.NODE_ENV !== 'production') {\n  validateFormat = function validateFormat(format) {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  };\n}\n\nfunction invariant(condition, format, a, b, c, d, e, f) {\n  validateFormat(format);\n\n  if (!condition) {\n    var error;\n\n    if (format === undefined) {\n      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(format.replace(/%s/g, function () {\n        return args[argIndex++];\n      }));\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n\n    throw error;\n  }\n}\n\nmodule.exports = invariant;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\nmodule.exports = ReactPropTypesSecret;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  position: 'absolute',\n  width: '1px',\n  height: '1px',\n  padding: '0px',\n  margin: '-1px',\n  overflow: 'hidden',\n  clip: 'rect(0px, 0px, 0px, 0px)',\n  border: '0px'\n};\nmodule.exports = exports['default'];","import {\n  LOAD_ARRIVALS_DATA_REQUEST,\n  LOAD_STOP_DATA_REQUEST,\n  UPDATE_VIEW_REQUEST\n} from \"../constants\";\n\nexport type LoadStopData = (radiusInFeet: number) => void;\nexport type LoadArrivalData = (locationId: number) => void;\n\nexport const loadArrivalDataRequest = (locationId: number) => ({\n  payload: { locationId },\n  type: LOAD_ARRIVALS_DATA_REQUEST\n});\n\nexport const loadStopDataRequest = (radiusInFeet: number) => ({\n  payload: { radiusInFeet },\n  type: LOAD_STOP_DATA_REQUEST\n});\n\nexport const changeViewRequest = (view: string) => ({\n  payload: { view },\n  type: UPDATE_VIEW_REQUEST\n});\n","import { createSelector } from \"reselect\";\nimport { StopLocation } from \"../../api/trimet/types\";\nimport { RootState } from \"../reducers\";\nimport {\n  RouteDirection,\n  RouteDirectionDict\n} from \"../reducers/util/getRoutesFromStopLocations\";\n\nconst allStopLocations = (state: RootState) => state.stopsReducer.stopLocations;\nconst allNearbyRoutes = (state: RootState) => state.stopsReducer.nearbyRoutes;\n\nconst stopLocationByLocationId = (state: RootState, locationId: number) =>\n  state.stopsReducer.stopLocations[locationId];\n\nconst stopsLoading = (state: RootState) => state.stopsReducer.loading;\n\nconst stopTimeOfLastLoadReducer = (state: RootState) =>\n  state.stopsReducer.timeOfLastLoad;\n\nexport const stopsLoadingSelector = createSelector(\n  stopsLoading,\n  (loading: boolean) => loading\n);\n\nexport const allStopLocationsSelector = createSelector(\n  allStopLocations,\n  (stopLocations: StopLocation[]) => stopLocations\n);\n\nexport const allNearbyRoutesSelector = createSelector(\n  allNearbyRoutes,\n  (nearbyRoutes: RouteDirectionDict) => nearbyRoutes\n);\n\nexport const timeOfLastLoadSelector = createSelector(\n  stopTimeOfLastLoadReducer,\n  (timeOfLastLoad: string) => timeOfLastLoad\n);\n\nexport const stopLocationSelector = createSelector(\n  stopLocationByLocationId,\n  (stopLocation: StopLocation) => stopLocation\n);\n","import { CHANGE_VIEW_REQUEST, INITIAL_LOAD_REQUEST } from \"../constants\";\n\nexport const changeViewRequest = (activeView: string) => ({\n  payload: { activeView },\n  type: CHANGE_VIEW_REQUEST\n});\n\nexport const onInitialLoadRequest = () => ({\n  type: INITIAL_LOAD_REQUEST\n});\n","import { createSelector } from \"reselect\";\nimport { RootState } from \"../reducers\";\n\nconst currentLocation = (state: RootState) => {\n  return state.currentLocationReducer.coordinates;\n};\n\nexport const currentLocationSelector = createSelector(\n  currentLocation,\n  (coordinates: number[]) => coordinates\n);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./Modal.css\";\n\nexport default class Modal extends React.Component<{}> {\n  private modalRoot: HTMLElement;\n  private el: HTMLDivElement;\n\n  constructor(props) {\n    super(props);\n    this.el = document.createElement(\"div\");\n  }\n\n  public componentDidMount() {\n    this.modalRoot = document.getElementById(\"modal-root\");\n    this.modalRoot.appendChild(this.el);\n  }\n\n  public componentWillUnmount() {\n    this.modalRoot.removeChild(this.el);\n  }\n\n  public render() {\n    return ReactDOM.createPortal(this.props.children, this.el);\n  }\n}\n","import React from \"react\";\nimport FontAwesome from \"react-fontawesome\";\nimport { Direction, Route } from \"../../api/trimet/types\";\n\ninterface Props {\n  route: Route;\n  closeModal: () => void;\n}\n\nfunction getHeader(closeModal: () => void) {\n  return (\n    <header className=\"info-header\">\n      <h4>Route Info</h4>\n      <div className=\"close-button-container\">\n        <button onClick={closeModal} name=\"Close\" title=\"Close\">\n          <FontAwesome name=\"times\" />\n        </button>\n      </div>\n    </header>\n  );\n}\n\nfunction getRouteDirections(routeDirections: Direction[]) {\n  return routeDirections.map((route: Direction) => {\n    return (\n      <ul key={route.dir}>\n        <li>\n          {route.desc} | {route.dir}\n        </li>\n      </ul>\n    );\n  });\n}\n\nfunction getSection(route: Route) {\n  if (!route) {\n    return null;\n  }\n\n  return (\n    <section>\n      <h5>{route.desc}</h5>\n      <p>Type: {route.type}</p>\n      <h4>Directions:</h4>\n      {getRouteDirections(route.dir)}\n    </section>\n  );\n}\n\nexport default function ModalContent({ route, closeModal }: Props) {\n  return (\n    <div className=\"modal-content\">\n      {getHeader(closeModal)}\n      {getSection(route)}\n    </div>\n  );\n}\n","import /* webpackChunkName: \"React\" */ React, { lazy, Suspense } from \"react\";\nimport { Route } from \"../../../api/trimet/types\";\nimport LoadIndicator from \"../../../component/loadIndicator/LoadIndicator\";\nimport Modal from \"../../../component/modal/Modal\";\nimport ModalContent from \"../../../component/modal/ModalContent\";\nimport { LoadStopData } from \"../../../store/action/stopActions\";\nimport { StopLocationsDictionary } from \"../../../store/reducers/stopsReducer\";\nimport { RouteDirectionDict } from \"../../../store/reducers/util/getRoutesFromStopLocations\";\nimport \"../Stops.scss\";\n\nconst NearbyStopsMap = lazy(() =>\n  import(\n    /* webpackChunkName: \"NearbyStopsMap\" */ \"../../../component/maps/NearbyStopsMap\"\n  )\n);\nconst MainNavigation = lazy(() =>\n  import(\n    /* webpackChunkName: \"MainNavigation\" */ \"../../../component/nav/MainNavigation\"\n  )\n);\nconst NearbyLists = lazy(() =>\n  import(/* webpackChunkName: \"NearbyLists\" */ \"./NearbyLists\")\n);\n\ninterface Props {\n  loadStopData: LoadStopData;\n  loading: boolean;\n  stopLocations: StopLocationsDictionary;\n  nearbyRoutes: RouteDirectionDict;\n  currentLocation: number[];\n  numberOfBookmarks: number;\n  timeOfLastLoad: string;\n  onInitialLoad: () => void;\n  match: any;\n}\n\ninterface State {\n  modalOpen: boolean;\n  routeInfo: Route;\n}\n\nexport default class NearbyTransitViewComponent extends React.Component<\n  Props,\n  State\n> {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      modalOpen: false,\n      routeInfo: null\n    };\n\n    this.openModal = this.openModal.bind(this);\n    this.closeModal = this.closeModal.bind(this);\n  }\n\n  public componentDidMount() {\n    this.props.onInitialLoad();\n\n    const { loadStopData } = this.props;\n\n    if (loadStopData) {\n      loadStopData(1000);\n    }\n  }\n\n  public render() {\n    const { numberOfBookmarks, timeOfLastLoad } = this.props;\n\n    return (\n      <div>\n        <MainNavigation\n          numberOfBookmarks={numberOfBookmarks}\n          timeOfLastLoad={timeOfLastLoad}\n        />\n        {this.getNearbyStops()}\n      </div>\n    );\n  }\n\n  public closeModal() {\n    this.setState({\n      modalOpen: false,\n      routeInfo: null\n    });\n  }\n\n  public openModal(route: Route) {\n    this.setState({\n      modalOpen: true,\n      routeInfo: route\n    });\n  }\n\n  private getNearbyStops() {\n    const { loading = true, stopLocations } = this.props;\n\n    return (\n      <main className=\"main-view\">\n        <div id=\"nearby-stops-view-component\">\n          {loading && <LoadIndicator />}\n          {!loading && stopLocations && this.nearbyStops()}\n        </div>\n      </main>\n    );\n  }\n\n  private nearbyStops() {\n    const { stopLocations, currentLocation, nearbyRoutes } = this.props;\n\n    /*tslint:disable:jsx-no-lambda*/\n    return (\n      <div className=\"nearby-stops\">\n        <main>\n          <div className=\"flex-container\">\n            <section className=\"flex-stops\">\n              <Suspense fallback={LoadIndicator}>\n                <NearbyStopsMap\n                  currentLocation={currentLocation}\n                  stopLocations={stopLocations}\n                  nearbyRoutes={nearbyRoutes}\n                />\n              </Suspense>\n              <Suspense fallback={LoadIndicator}>\n                <NearbyLists\n                  stopLocations={stopLocations}\n                  openModal={this.openModal}\n                  nearbyRoutes={nearbyRoutes}\n                />\n              </Suspense>\n            </section>\n            {this.state.modalOpen && this.showModal()}\n          </div>\n        </main>\n      </div>\n    );\n  }\n\n  private showModal() {\n    return (\n      <div className=\"flex-info\">\n        <aside id=\"modal-root\" className=\"modal-wrapper\" />\n        <Modal>\n          <ModalContent\n            route={this.state.routeInfo}\n            closeModal={this.closeModal}\n          />\n        </Modal>\n      </div>\n    );\n  }\n}\n","import { connect } from \"react-redux\";\nimport { loadStopDataRequest } from \"../../../store/action/stopActions\";\nimport { onInitialLoadRequest } from \"../../../store/action/viewActions\";\nimport { RootState } from \"../../../store/reducers\";\nimport { bookmarkCountSelector } from \"../../../store/selectors/bookmarkSelectors\";\nimport { currentLocationSelector } from \"../../../store/selectors/locationSelectors\";\nimport {\n  allNearbyRoutesSelector,\n  allStopLocationsSelector,\n  stopsLoadingSelector,\n  timeOfLastLoadSelector\n} from \"../../../store/selectors/stopSelectors\";\nimport NearbyTransitViewComponent from \"../components/NearbyTransitViewComponent\";\n\nconst mapStateToProps = (state: RootState) => {\n  return {\n    currentLocation: currentLocationSelector(state),\n    loading: stopsLoadingSelector(state),\n    nearbyRoutes: allNearbyRoutesSelector(state),\n    numberOfBookmarks: bookmarkCountSelector(state),\n    stopLocations: allStopLocationsSelector(state),\n    timeOfLastLoad: timeOfLastLoadSelector(state)\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    loadStopData(radiusInFeet: number): void {\n      dispatch(loadStopDataRequest(radiusInFeet));\n    },\n    onInitialLoad() {\n      dispatch(onInitialLoadRequest());\n    }\n  };\n};\n\nconst NearbyTransitViewContainer = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(NearbyTransitViewComponent);\n\nexport default NearbyTransitViewContainer;\n"],"sourceRoot":""}